name: query_poll
on:
    gollum:
        # schedule:
        #     - cron: ''
    workflow_dispatch:
    push:
        branches: master
jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout Code
              uses: actions/checkout@v2

            - name: Setup Python Environment
              uses: actions/setup-python@v2
              with:
                python-version: 3.7

            - name: Install Requirements
              run: pip install -r pip_requirements/query_poll_requirements.txt

            - name: Execute Python script
              env:
                  CONSUMER_KEY: ${{ secrets.CONSUMER_KEY }}
                  CONSUMER_SECRET: ${{ secrets.CONSUMER_SECRET }}
                  ACCESS_KEY: ${{ secrets.ACCESS_KEY }}
                  ACCESS_SECRET: ${{ ACCESS_SECRET }}
              run: |
                python query_poll.py
                
